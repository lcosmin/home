#!/usr/bin/env zsh 

#
# Settings
#

greadlink --version >/dev/null 2>&1
if [[ $? -eq 0 ]]
then
    READLINK=greadlink
else
    READLINK=readlink
fi


src_dir="$(dirname $0)/.."
src_dir="$(${READLINK} -f $src_dir)"

echo "[+] source dir: $src_dir"


setopt EXTENDED_GLOB

ln -sf "${src_dir}/.zprezto" "${ZDOTDIR:-$HOME}"/.zprezto

for rcfile in "${src_dir}"/.zprezto/runcoms/^README.md(.N) "${src_dir}"/*(.); do
  ln -sf "$rcfile" "${ZDOTDIR:-$HOME}/.${rcfile:t}"
done


